version: '3.8'

services:
  ui:
    build: .
    ports:
      - "8080:8080"
    environment:
      PORT: 8080
      VITE_API_URL: http://api:3001
    depends_on:
      - api

  api:
    build: .
    ports:
      - "3001:3001"
    environment:
      PORT: 3001
      DATABASE_URL: ${DATABASE_URL}
      API_KEY: ${API_KEY}
    command: node dist/api-server.js
